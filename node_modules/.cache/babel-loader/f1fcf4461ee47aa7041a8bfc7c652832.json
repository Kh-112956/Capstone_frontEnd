{"ast":null,"code":"var _jsxFileName = \"/Users/kholodhabis/Desktop/React/src/salon/OneService.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from 'react-router-dom'; // import { Form, Button } from 'react-bootstrap'\n\nimport { AuthContext } from './AuthContext';\nimport { useParams } from \"react-router-dom\"; // import './styleForm.css'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Oneservice() {\n  _s();\n\n  const [sel1, setSel1] = useState(\"\");\n  const params = useParams();\n  const navigate = useNavigate();\n  const [service, setService] = useState({\n    id: \"\",\n    sname: \"\",\n    price: \"\"\n  });\n  const [employees, setEmployees] = useState({\n    id: \"\",\n    email: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    password: \"\"\n  });\n  const [email, setEmail] = useState();\n  const [customer, setCustomer] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n\n  function handleDate(event) {\n    setDate(event.target.value);\n  }\n\n  function handleTime(event) {\n    setTime(event.target.value);\n  }\n\n  function handleAddAppointment() {\n    let appointment = {\n      employee: {\n        id: sel1\n      },\n      customers: customer,\n      services: {\n        id: params.id\n      },\n      date: date,\n      time: time\n    };\n    axios({\n      method: 'post',\n      url: `../api/appointment/add`,\n      data: appointment\n    });\n    console.log(appointment);\n    navigate(\"/Appointment\");\n  }\n\n  useEffect(() => {\n    axios.get(`../api/employee/service/${params.id}`).then(response => {\n      setEmployees(response.data);\n      console.log(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`../api/service/${params.id}`).then(response => {\n      setService(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    let email = localStorage.getItem('email');\n    setEmail(email);\n    axios.get(`../api/customer/getCustomerbyemail/${email}`).then(response => {\n      setCustomer(response.data);\n    });\n  }, []);\n\n  function handleSelect(event) {\n    setSel1(event.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: email ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Service Name : \", service.sname, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Service Price : \", service.price, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Service Materials : \", service.materials, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Make appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select employee : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleSelect,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          class: \"c\",\n          value: \"\",\n          children: \"--Please choose an option--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), employees.length ? employees.map((emp, i) => {\n          // Return the element. Also pass key     \n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: emp.id,\n            children: emp.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 36\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"null\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Appointment Date : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Date\",\n        name: \"Date\",\n        onChange: handleDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Appointment Time : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Time\",\n        name: \"Date\",\n        onChange: handleTime\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"s\",\n        onClick: handleAddAppointment,\n        children: \"Make Appointment \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"You need to login before\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 93\n    }, this)\n  }, void 0, false);\n}\n\n_s(Oneservice, \"RN86MYW82mmGz96wqZE4sJi8uuU=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Oneservice;\n\nvar _c;\n\n$RefreshReg$(_c, \"Oneservice\");","map":{"version":3,"sources":["/Users/kholodhabis/Desktop/React/src/salon/OneService.js"],"names":["React","useEffect","useState","axios","useNavigate","AuthContext","useParams","Oneservice","sel1","setSel1","params","navigate","service","setService","id","sname","price","employees","setEmployees","email","first_name","last_name","password","setEmail","customer","setCustomer","date","setDate","time","setTime","handleDate","event","target","value","handleTime","handleAddAppointment","appointment","employee","customers","services","method","url","data","console","log","get","then","response","localStorage","getItem","handleSelect","materials","length","map","emp","i","firstName"],"mappings":"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","sourcesContent":["\r\nimport React,{useEffect,useState} from \"react\"\r\nimport axios from \"axios\"\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// import { Form, Button } from 'react-bootstrap'\r\nimport { AuthContext } from './AuthContext';\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n// import './styleForm.css'\r\nexport default function Oneservice() {\r\n    const [sel1, setSel1] = useState(\"\")\r\n    const params = useParams();\r\n    const navigate = useNavigate();\r\n    const [service, setService] = useState({ id: \"\", sname: \"\",price:\"\" })\r\n    const [employees, setEmployees] = useState({ id: \"\", email: \"\",first_name:\"\", last_name: \"\", password: \"\"})\r\n    const [email, setEmail] = useState()\r\n    const [customer, setCustomer] = useState(\"\")\r\n    const [date, setDate] = useState(\"\")\r\n    const [time, setTime] = useState(\"\")\r\n\r\n    function handleDate(event) {setDate((event.target.value));}\r\n    function handleTime(event) {setTime((event.target.value));}\r\n    function handleAddAppointment(){\r\n        let appointment = {\r\n             \r\n            employee :{id:sel1 } , \r\n            customers : customer ,\r\n            services :{id:params.id} ,\r\n            date:date,\r\n            time:time\r\n        }\r\n        axios({\r\n            method: 'post',\r\n            url: `../api/appointment/add`,\r\n            data: appointment\r\n        });\r\n        console.log(appointment)\r\n        navigate(\"/Appointment\");\r\n    }\r\n    useEffect(() => {\r\n        axios.get(`../api/employee/service/${params.id}`)\r\n        .then(response => {\r\n            setEmployees(response.data)\r\n            console.log(response.data)\r\n        }) \r\n       \r\n    },[] )\r\n    useEffect(() => {\r\n        axios.get(`../api/service/${params.id}`)\r\n        .then(response => {\r\n            setService(response.data)\r\n           \r\n        }) \r\n       \r\n    },[] )\r\n\r\n    useEffect(() => {\r\n        let email = localStorage.getItem('email')\r\n        setEmail(email)\r\n        axios.get(`../api/customer/getCustomerbyemail/${email}`)\r\n        .then(response => {\r\n            \r\n           setCustomer(response.data)\r\n        }) \r\n       \r\n    },[] )\r\n    function handleSelect(event){\r\n        setSel1(event.target.value) \r\n        \r\n    }\r\n       \r\n    \r\n    return (<>\r\n    {email?(<>\r\n        <div>\r\n            \r\n            <h4>Service Name : {service.sname} </h4>\r\n            <h4>Service Price : {service.price} </h4>\r\n            <h4>Service Materials : {service.materials} </h4>\r\n\r\n        </div>\r\n        <h1>Make appointment</h1>\r\n\r\n        <br></br>\r\n        <label>Select employee : </label>\r\n        <select onChange={handleSelect}>\r\n                <option  class=\"c\"value=\"\">--Please choose an option--</option>\r\n                {employees.length ? employees.map((emp, i) => {     \r\n                          \r\n                          // Return the element. Also pass key     \r\n                          return ( <option value={emp.id}>{emp.firstName}</option>) \r\n                       }): <h4>null</h4>}\r\n                \r\n               \r\n                \r\n        </select>\r\n        <br></br>\r\n        <label>Appointment Date : </label>\r\n        <input type=\"text\"  placeholder=\"Date\" name=\"Date\" onChange={handleDate} />\r\n        <label>Appointment Time : </label>\r\n        <input type=\"text\"  placeholder=\"Time\" name=\"Date\" onChange={handleTime} />\r\n        <br></br>\r\n        <button  class=\"s\"onClick={handleAddAppointment} >Make Appointment </button> </>): (<h1>You need to login before</h1>) \r\n        }\r\n\r\n        \r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}